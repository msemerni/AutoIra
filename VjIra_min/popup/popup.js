let isSafeCopyStorageValue=localStorage.getItem("isSafeCopyStorage");null===isSafeCopyStorageValue&&localStorage.setItem("isSafeCopyStorage","safe");const copyBtn=document.getElementById("copyButton"),pasteBtn=document.getElementById("pasteButton"),helpButton=document.getElementById("helpButton"),isSafeCopy=document.getElementById("isSafeCopy");isSafeCopy.checked=Boolean(localStorage.getItem("isSafeCopyStorage")),copyBtn.addEventListener("click",async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});isSafeCopy.checked?chrome.scripting.executeScript({target:{tabId:e.id},files:["/popup/copyFromEditorSafe.js"]}):chrome.scripting.executeScript({target:{tabId:e.id},files:["/popup/copyFromEditorUnsafe.js"]}),window.close()}),pasteBtn.addEventListener("click",async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.scripting.executeScript({target:{tabId:e.id},function:startScriptPaste}),window.close()}),helpButton.addEventListener("click",()=>{alert('\n  1. Select Point in Venues Editor\n     (\'http://venues.placer.team:8080/...\' or\n     \'http://staging-venues.placer.team:8080/...\').\n  2. Copy the data by clicking "Copy".\n  3. Switch to Jira (\'https://placer.atlassian.net/...\').\n  4. Paste the data to Jira by clicking "Paste".\n    _____________________________________________\n    Toggle "Check required tags" - check required tags\n     and existence of values in Venues Editor:\n     - name\n     - address\n     - category\n     - opening hours\n     - manually reviewed status\n    _____________________________________________\n     You must give browser permissions for "Clipboard";\n  ')}),isSafeCopy.addEventListener("click",()=>{isSafeCopy.checked?localStorage.setItem("isSafeCopyStorage","safe"):localStorage.setItem("isSafeCopyStorage",""),window.close()});const startScriptPaste=()=>{const e=document.createElement("script");e.src=chrome.runtime.getURL("/popup/pasteToJira.js"),e.onload=function(){this.remove()},(document.head||document.documentElement).append(e)};